# å€’è®¡æ—¶(Dao Ji Shi) Home Assistant é›†æˆ 

[![hacs_badge](https://img.shields.io/badge/HACS-Custom-41BDF5.svg)](https://github.com/hacs/integration)

ä¸€ä¸ªä¸º Home Assistant è®¾è®¡çš„å€’è®¡æ—¶é›†æˆï¼Œå¯ä»¥ç®¡ç†çºªå¿µæ—¥ã€èŠ‚æ—¥å’Œé‡è¦äº‹ä»¶çš„å€’è®¡æ—¶ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ¯ **ä¸‰ä¸ªæ ¸å¿ƒå®ä½“**ï¼š
  - å€’è®¡æ—¶æ˜¾ç¤ºï¼šæ˜¾ç¤ºå³å°†åˆ°æ¥çš„äº‹ä»¶å€’è®¡æ—¶
  - çºªå¿µæ—¥æ•°æ®ï¼šæŸ¥çœ‹æ‰€æœ‰çºªå¿µæ—¥æ•°æ®
  - çºªå¿µæ—¥ç®¡ç†ï¼šç›´æ¥æ·»åŠ /åˆ é™¤çºªå¿µæ—¥

- ğŸ“… **æ™ºèƒ½æ—¥æœŸå¤„ç†**ï¼š
  - è‡ªåŠ¨å¤„ç†é—°å¹´
  - æ”¯æŒå†œå†èŠ‚æ—¥
  - é‡è¦äº‹ä»¶ä¼˜å…ˆæ˜¾ç¤º

- ğŸ¨ **ä¸­æ–‡æœ¬åœ°åŒ–**ï¼š
  - å®Œå…¨ä¸­æ–‡åŒ–çš„ç•Œé¢
  - ä¸­æ–‡é”™è¯¯æç¤º
  - æœ¬åœ°åŒ–é…ç½®

- ğŸ”„ **å®æ—¶æ›´æ–°**ï¼š
  - è‡ªåŠ¨åˆ·æ–°å€’è®¡æ—¶
  - æ•°æ®æŒä¹…åŒ–å­˜å‚¨
  - é…ç½®å¯è°ƒæ•´æ›´æ–°é¢‘ç‡

## å®‰è£…

### é€šè¿‡ HACSï¼ˆæ¨èï¼‰

1. åœ¨ HACS ä¸­ç‚¹å‡»ã€Œé›†æˆã€
2. ç‚¹å‡»å³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹ï¼Œé€‰æ‹©ã€Œè‡ªå®šä¹‰ä»“åº“ã€
3. æ·»åŠ ä»“åº“ï¼š`https://github.com/lambilly/dao_ji_shi`
4. é€‰æ‹©åˆ†ç±»ä¸ºã€Œé›†æˆã€
5. ç‚¹å‡»ã€Œä¸‹è½½ã€å®‰è£…
6. é‡å¯ Home Assistant

### æ‰‹åŠ¨å®‰è£…

1. ä¸‹è½½ `dao_ji_shi` æ–‡ä»¶å¤¹
2. å°†å…¶å¤åˆ¶åˆ° `custom_components` ç›®å½•
3. é‡å¯ Home Assistant

## é…ç½®

1. åœ¨ Home Assistant ä¸­è¿›å…¥ã€Œé…ç½®ã€->ã€Œé›†æˆã€
2. ç‚¹å‡»ã€Œæ·»åŠ é›†æˆã€
3. æœç´¢ã€Œå€’è®¡æ—¶ã€
4. æŒ‰ç…§ç•Œé¢æç¤ºå®Œæˆé…ç½®

### é…ç½®é€‰é¡¹

- **æ›´æ–°é—´éš”**ï¼šå€’è®¡æ—¶æ•°æ®çš„æ›´æ–°é¢‘ç‡ï¼ˆåˆ†é’Ÿï¼‰ï¼Œé»˜è®¤60åˆ†é’Ÿ

## ä½¿ç”¨è¯´æ˜

### ä¸‰ä¸ªå®ä½“

å®‰è£…åä¼šè‡ªåŠ¨åˆ›å»ºä¸‰ä¸ªå®ä½“ï¼š

1. **å€’è®¡æ—¶** (`sensor.dao_ji_shi_countdown`)
   - æ˜¾ç¤ºå½“å‰æ—¥æœŸ
   - å±æ€§ä¸­åŒ…å«è¯¦ç»†çš„å€’è®¡æ—¶ä¿¡æ¯

2. **çºªå¿µæ—¥æ•°æ®** (`sensor.dao_ji_shi_anniversary_data`)
   - æ˜¾ç¤ºæ‰€æœ‰çºªå¿µæ—¥æ•°æ®
   - å±æ€§ä¸­åŒ…å«å®Œæ•´çš„çºªå¿µæ—¥åˆ—è¡¨

3. **çºªå¿µæ—¥ç®¡ç†** (`sensor.dao_ji_shi_anniversary_manager`)
   - ç”¨äºæ·»åŠ å’Œåˆ é™¤çºªå¿µæ—¥
   - é€šè¿‡è®¾ç½®å±æ€§å’Œè°ƒç”¨æœåŠ¡æ¥ç®¡ç†

### æ·»åŠ çºªå¿µæ—¥

1. è¿›å…¥ã€Œå¼€å‘è€…å·¥å…·ã€->ã€ŒçŠ¶æ€ã€
2. æ‰¾åˆ° `sensor.dao_ji_shi_anniversary_manager` å®ä½“
3. è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š
   - `input_date`: æ—¥æœŸ (æ ¼å¼: YYYY-MM-DD)
   - `input_name`: äº‹ä»¶åç§°
   - `input_describe`: äº‹ä»¶æè¿°
   - `input_type`: ç±»å‹ (normal/important/lunar)
   - `input_show`: æ˜¯å¦æ˜¾ç¤º (true/false)

4. è°ƒç”¨æœåŠ¡ `sensor.anniversary_manager_add_anniversary`

### åˆ é™¤çºªå¿µæ—¥

1. è®¾ç½® `delete_date` å±æ€§ä¸ºè¦åˆ é™¤çš„æ—¥æœŸ
2. è°ƒç”¨æœåŠ¡ `sensor.anniversary_manager_delete_anniversary`

### åœ¨ Lovelace ä¸­æ˜¾ç¤º

```yaml
type: entities
entities:
  - entity: sensor.dao_ji_shi_countdown
    name: å€’è®¡æ—¶
  - entity: sensor.dao_ji_shi_anniversary_data
    name: çºªå¿µæ—¥æ•°æ®
  - entity: sensor.dao_ji_shi_anniversary_manager
    name: çºªå¿µæ—¥ç®¡ç†
